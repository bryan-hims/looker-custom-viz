{"version":3,"file":"index.js","names":["COLOR_BAND_COUNT","CellVisualization","props","useTheme","colors","max","value","color","measure","cellVisWidth","colorBands","deriveColorBlend","background","colorIndex","Math","round","SingleBar","styled","div","attrs","width","style","flex","theme","sizes","small"],"sources":["../../../src/CellVisualization/index.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React from 'react'\nimport styled, { useTheme } from 'styled-components'\nimport { deriveColorBlend } from '@looker/visualizations-adapters'\n\ntype CellVisualizationProps = {\n  min: number\n  max: number\n  value: number\n  color?: string\n}\n\nconst COLOR_BAND_COUNT = 10\n\nexport const CellVisualization = (props: CellVisualizationProps) => {\n  const { colors } = useTheme()\n  const { max, value, color = colors.measure } = props\n\n  if (max === 0) {\n    return null\n  }\n\n  const cellVisWidth = value / max // width in percent\n\n  const colorBands = deriveColorBlend(\n    color,\n    colors.background,\n    COLOR_BAND_COUNT\n  )\n\n  const colorIndex = Math.round((1 - cellVisWidth) * COLOR_BAND_COUNT)\n\n  return (\n    <SingleBar\n      color={colorBands[colorIndex]}\n      width={cellVisWidth}\n      data-testid=\"single-bar\"\n    />\n  )\n}\n\ntype SingleBarProps = { color?: string; width: number }\n\nconst SingleBar = styled.div.attrs<SingleBarProps>(({ width, color }) => ({\n  style: { flex: width, background: color },\n}))<SingleBarProps>`\n  height: ${({ theme }) => theme.sizes.small};\n`\n"],"mappings":";;;;;;;;;AAKA;AACA;AACA;AAAkE;AAAA;AAAA;AASlE,IAAMA,gBAAgB,GAAG,EAAE;AAEpB,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,KAA6B,EAAK;EAClE,gBAAmB,IAAAC,0BAAQ,GAAE;IAArBC,MAAM,aAANA,MAAM;EACd,IAAQC,GAAG,GAAoCH,KAAK,CAA5CG,GAAG;IAAEC,KAAK,GAA6BJ,KAAK,CAAvCI,KAAK;IAAA,eAA6BJ,KAAK,CAAhCK,KAAK;IAALA,KAAK,6BAAGH,MAAM,CAACI,OAAO;EAE1C,IAAIH,GAAG,KAAK,CAAC,EAAE;IACb,OAAO,IAAI;EACb;EAEA,IAAMI,YAAY,GAAGH,KAAK,GAAGD,GAAG;;EAEhC,IAAMK,UAAU,GAAG,IAAAC,wCAAgB,EACjCJ,KAAK,EACLH,MAAM,CAACQ,UAAU,EACjBZ,gBAAgB,CACjB;EAED,IAAMa,UAAU,GAAGC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,GAAGN,YAAY,IAAIT,gBAAgB,CAAC;EAEpE,OACE,gCAAC,SAAS;IACR,KAAK,EAAEU,UAAU,CAACG,UAAU,CAAE;IAC9B,KAAK,EAAEJ,YAAa;IACpB,eAAY;EAAY,EACxB;AAEN,CAAC;AAAA;AAID,IAAMO,SAAS,GAAGC,4BAAM,CAACC,GAAG,CAACC,KAAK,CAAiB;EAAA,IAAGC,KAAK,QAALA,KAAK;IAAEb,KAAK,QAALA,KAAK;EAAA,OAAQ;IACxEc,KAAK,EAAE;MAAEC,IAAI,EAAEF,KAAK;MAAER,UAAU,EAAEL;IAAM;EAC1C,CAAC;AAAA,CAAC,CAAC,0GACS;EAAA,IAAGgB,KAAK,SAALA,KAAK;EAAA,OAAOA,KAAK,CAACC,KAAK,CAACC,KAAK;AAAA,EAC3C"}