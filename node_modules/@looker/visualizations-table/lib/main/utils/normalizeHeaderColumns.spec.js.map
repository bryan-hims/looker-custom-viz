{"version":3,"file":"normalizeHeaderColumns.spec.js","names":["mockHeader","colSpan","mockHeaderColspan2","mockHeaderGroups","id","depth","headers","mockTable","getHeaderGroups","it","normalizedHeaderGroups","normalizeHeaderColumns","expect","toEqual"],"sources":["../../../src/utils/normalizeHeaderColumns.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { normalizeHeaderColumns } from './normalizeHeaderColumns'\nimport type { SDKRecord } from '@looker/visualizations-adapters'\nimport type { HeaderGroup, Table, Header } from '@tanstack/react-table'\n\nconst mockHeader = { colSpan: 1 } as Header<SDKRecord, unknown>\nconst mockHeaderColspan2 = { colSpan: 2 } as Header<SDKRecord, unknown>\n\nconst mockHeaderGroups: HeaderGroup<SDKRecord>[] = [\n  { id: '0', depth: 0, headers: [mockHeaderColspan2, mockHeader] },\n  {\n    id: '1',\n    depth: 1,\n    headers: [mockHeader, mockHeader, mockHeader],\n  },\n]\n\nconst mockTable: Partial<Table<SDKRecord>> = {\n  getHeaderGroups: () => mockHeaderGroups,\n}\n\nit('ensures that every header row has the same number of entries when headers span multiple columns', () => {\n  const normalizedHeaderGroups = normalizeHeaderColumns(\n    mockTable as Table<SDKRecord>\n  )\n\n  expect(normalizedHeaderGroups[0].headers).toEqual([\n    mockHeaderColspan2,\n    null, //  inserted null entry ensures each header group has the same number of items\n    mockHeader,\n  ])\n\n  expect(normalizedHeaderGroups[1].headers).toEqual(mockHeaderGroups[1].headers)\n})\n"],"mappings":";;AAIA;;AAIA,IAAMA,UAAU,GAAG;EAAEC,OAAO,EAAE;AAAE,CAA+B;AAC/D,IAAMC,kBAAkB,GAAG;EAAED,OAAO,EAAE;AAAE,CAA+B;AAEvE,IAAME,gBAA0C,GAAG,CACjD;EAAEC,EAAE,EAAE,GAAG;EAAEC,KAAK,EAAE,CAAC;EAAEC,OAAO,EAAE,CAACJ,kBAAkB,EAAEF,UAAU;AAAE,CAAC,EAChE;EACEI,EAAE,EAAE,GAAG;EACPC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,CAACN,UAAU,EAAEA,UAAU,EAAEA,UAAU;AAC9C,CAAC,CACF;AAED,IAAMO,SAAoC,GAAG;EAC3CC,eAAe,EAAE;IAAA,OAAML,gBAAgB;EAAA;AACzC,CAAC;AAEDM,EAAE,CAAC,iGAAiG,EAAE,YAAM;EAC1G,IAAMC,sBAAsB,GAAG,IAAAC,8CAAsB,EACnDJ,SAAS,CACV;EAEDK,MAAM,CAACF,sBAAsB,CAAC,CAAC,CAAC,CAACJ,OAAO,CAAC,CAACO,OAAO,CAAC,CAChDX,kBAAkB,EAClB,IAAI;EACJF,UAAU,CACX,CAAC;EAEFY,MAAM,CAACF,sBAAsB,CAAC,CAAC,CAAC,CAACJ,OAAO,CAAC,CAACO,OAAO,CAACV,gBAAgB,CAAC,CAAC,CAAC,CAACG,OAAO,CAAC;AAChF,CAAC,CAAC"}