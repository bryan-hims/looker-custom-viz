{"version":3,"file":"normalizeHeaderColumns.js","names":["normalizeHeaderColumns","table","getHeaderGroups","map","headerGroup","headers","flatMap","header","colSpan","spacerArray","Array","fill"],"sources":["../../../src/utils/normalizeHeaderColumns.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { SDKRecord } from '@looker/visualizations-adapters'\nimport type { Header, Table } from '@tanstack/react-table'\n\n/**\n * If any header elements span multiple columns, we need\n * to fill in empty array elements to keep data columns aligned\n * with header columns.\n * @param table: a tanstack table object\n * @returns An array of header rows that all have the same amount of columns.\n */\n\nexport const normalizeHeaderColumns = (table: Table<SDKRecord>) =>\n  table.getHeaderGroups().map(headerGroup => {\n    const headers = headerGroup.headers.flatMap(\n      (header): Array<Header<SDKRecord, unknown> | null> => {\n        if (header.colSpan > 1) {\n          const spacerArray: null[] = Array(header.colSpan - 1).fill(null)\n          return [header, ...spacerArray]\n        }\n        return [header]\n      }\n    )\n    return { ...headerGroup, headers }\n  })\n"],"mappings":";;;;AAeA,OAAO,MAAMA,sBAAsB,GAAIC,KAAuB,IAC5DA,KAAK,CAACC,eAAe,EAAE,CAACC,GAAG,CAACC,WAAW,IAAI;EACzC,MAAMC,OAAO,GAAGD,WAAW,CAACC,OAAO,CAACC,OAAO,CACxCC,MAAM,IAA+C;IACpD,IAAIA,MAAM,CAACC,OAAO,GAAG,CAAC,EAAE;MACtB,MAAMC,WAAmB,GAAGC,KAAK,CAACH,MAAM,CAACC,OAAO,GAAG,CAAC,CAAC,CAACG,IAAI,CAAC,IAAI,CAAC;MAChE,OAAO,CAACJ,MAAM,EAAE,GAAGE,WAAW,CAAC;IACjC;IACA,OAAO,CAACF,MAAM,CAAC;EACjB,CAAC,CACF;EACD,uCAAYH,WAAW;IAAEC;EAAO;AAClC,CAAC,CAAC"}