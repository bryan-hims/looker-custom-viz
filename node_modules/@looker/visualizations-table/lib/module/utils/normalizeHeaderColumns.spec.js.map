{"version":3,"file":"normalizeHeaderColumns.spec.js","names":["normalizeHeaderColumns","mockHeader","colSpan","mockHeaderColspan2","mockHeaderGroups","id","depth","headers","mockTable","getHeaderGroups","it","normalizedHeaderGroups","expect","toEqual"],"sources":["../../../src/utils/normalizeHeaderColumns.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { normalizeHeaderColumns } from './normalizeHeaderColumns'\nimport type { SDKRecord } from '@looker/visualizations-adapters'\nimport type { HeaderGroup, Table, Header } from '@tanstack/react-table'\n\nconst mockHeader = { colSpan: 1 } as Header<SDKRecord, unknown>\nconst mockHeaderColspan2 = { colSpan: 2 } as Header<SDKRecord, unknown>\n\nconst mockHeaderGroups: HeaderGroup<SDKRecord>[] = [\n  { id: '0', depth: 0, headers: [mockHeaderColspan2, mockHeader] },\n  {\n    id: '1',\n    depth: 1,\n    headers: [mockHeader, mockHeader, mockHeader],\n  },\n]\n\nconst mockTable: Partial<Table<SDKRecord>> = {\n  getHeaderGroups: () => mockHeaderGroups,\n}\n\nit('ensures that every header row has the same number of entries when headers span multiple columns', () => {\n  const normalizedHeaderGroups = normalizeHeaderColumns(\n    mockTable as Table<SDKRecord>\n  )\n\n  expect(normalizedHeaderGroups[0].headers).toEqual([\n    mockHeaderColspan2,\n    null, //  inserted null entry ensures each header group has the same number of items\n    mockHeader,\n  ])\n\n  expect(normalizedHeaderGroups[1].headers).toEqual(mockHeaderGroups[1].headers)\n})\n"],"mappings":";AAIA,SAASA,sBAAsB,QAAQ,0BAA0B;AAIjE,MAAMC,UAAU,GAAG;EAAEC,OAAO,EAAE;AAAE,CAA+B;AAC/D,MAAMC,kBAAkB,GAAG;EAAED,OAAO,EAAE;AAAE,CAA+B;AAEvE,MAAME,gBAA0C,GAAG,CACjD;EAAEC,EAAE,EAAE,GAAG;EAAEC,KAAK,EAAE,CAAC;EAAEC,OAAO,EAAE,CAACJ,kBAAkB,EAAEF,UAAU;AAAE,CAAC,EAChE;EACEI,EAAE,EAAE,GAAG;EACPC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,CAACN,UAAU,EAAEA,UAAU,EAAEA,UAAU;AAC9C,CAAC,CACF;AAED,MAAMO,SAAoC,GAAG;EAC3CC,eAAe,EAAE,MAAML;AACzB,CAAC;AAEDM,EAAE,CAAC,iGAAiG,EAAE,MAAM;EAC1G,MAAMC,sBAAsB,GAAGX,sBAAsB,CACnDQ,SAAS,CACV;EAEDI,MAAM,CAACD,sBAAsB,CAAC,CAAC,CAAC,CAACJ,OAAO,CAAC,CAACM,OAAO,CAAC,CAChDV,kBAAkB,EAClB,IAAI;EACJF,UAAU,CACX,CAAC;EAEFW,MAAM,CAACD,sBAAsB,CAAC,CAAC,CAAC,CAACJ,OAAO,CAAC,CAACM,OAAO,CAACT,gBAAgB,CAAC,CAAC,CAAC,CAACG,OAAO,CAAC;AAChF,CAAC,CAAC"}