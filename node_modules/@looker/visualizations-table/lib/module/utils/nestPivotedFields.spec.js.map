{"version":3,"file":"nestPivotedFields.spec.js","names":["nestPivotedFields","it","result","pivotList","name","label","nestedPivots","id","header","pivotIndex","expect","toEqual","columns"],"sources":["../../../src/utils/nestPivotedFields.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { DimensionMetadata } from '@looker/visualizations-adapters'\nimport { nestPivotedFields } from '.'\n\nit('Nests pivots inside columns arrays', () => {\n  const result = nestPivotedFields({\n    pivotList: [\n      {\n        name: 'orders.status',\n        label: 'Order Status',\n      } as DimensionMetadata,\n      {\n        name: 'users.gender',\n        label: 'User Gender',\n      } as DimensionMetadata,\n    ],\n    nestedPivots: [\n      { id: 'orders.count', header: 'Order Count' },\n      { id: 'users.count', header: 'Users Count' },\n    ],\n    pivotIndex: 0,\n  })\n\n  expect(result).toEqual({\n    id: 'users.gender',\n    header: 'User Gender',\n    columns: [\n      {\n        id: 'orders.status',\n        header: 'Order Status',\n        columns: [\n          { id: 'orders.count', header: 'Order Count' },\n          { id: 'users.count', header: 'Users Count' },\n        ],\n      },\n    ],\n  })\n})\n\nit('Nests column array inside a column array when pivotList array is empty', () => {\n  const result = nestPivotedFields({\n    pivotList: [], // testing for empty pivotList edge case\n    nestedPivots: [{ id: 'column1', header: 'Column One' }],\n    pivotIndex: 0,\n  })\n\n  expect(result).toEqual({\n    columns: [\n      {\n        header: 'Column One',\n        id: 'column1',\n      },\n    ],\n    id: 'pivot-field-0',\n  })\n})\n"],"mappings":";;AAMA,SAASA,iBAAiB,QAAQ,GAAG;AAErCC,EAAE,CAAC,oCAAoC,EAAE,MAAM;EAC7C,MAAMC,MAAM,GAAGF,iBAAiB,CAAC;IAC/BG,SAAS,EAAE,CACT;MACEC,IAAI,EAAE,eAAe;MACrBC,KAAK,EAAE;IACT,CAAC,EACD;MACED,IAAI,EAAE,cAAc;MACpBC,KAAK,EAAE;IACT,CAAC,CACF;IACDC,YAAY,EAAE,CACZ;MAAEC,EAAE,EAAE,cAAc;MAAEC,MAAM,EAAE;IAAc,CAAC,EAC7C;MAAED,EAAE,EAAE,aAAa;MAAEC,MAAM,EAAE;IAAc,CAAC,CAC7C;IACDC,UAAU,EAAE;EACd,CAAC,CAAC;EAEFC,MAAM,CAACR,MAAM,CAAC,CAACS,OAAO,CAAC;IACrBJ,EAAE,EAAE,cAAc;IAClBC,MAAM,EAAE,aAAa;IACrBI,OAAO,EAAE,CACP;MACEL,EAAE,EAAE,eAAe;MACnBC,MAAM,EAAE,cAAc;MACtBI,OAAO,EAAE,CACP;QAAEL,EAAE,EAAE,cAAc;QAAEC,MAAM,EAAE;MAAc,CAAC,EAC7C;QAAED,EAAE,EAAE,aAAa;QAAEC,MAAM,EAAE;MAAc,CAAC;IAEhD,CAAC;EAEL,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFP,EAAE,CAAC,wEAAwE,EAAE,MAAM;EACjF,MAAMC,MAAM,GAAGF,iBAAiB,CAAC;IAC/BG,SAAS,EAAE,EAAE;IACbG,YAAY,EAAE,CAAC;MAAEC,EAAE,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAa,CAAC,CAAC;IACvDC,UAAU,EAAE;EACd,CAAC,CAAC;EAEFC,MAAM,CAACR,MAAM,CAAC,CAACS,OAAO,CAAC;IACrBC,OAAO,EAAE,CACP;MACEJ,MAAM,EAAE,YAAY;MACpBD,EAAE,EAAE;IACN,CAAC,CACF;IACDA,EAAE,EAAE;EACN,CAAC,CAAC;AACJ,CAAC,CAAC"}