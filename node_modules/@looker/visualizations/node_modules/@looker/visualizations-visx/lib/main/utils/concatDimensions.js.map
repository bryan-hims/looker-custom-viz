{"version":3,"file":"concatDimensions.js","names":["concatDimensions","data","fields","dimensionNames","getDimensionNames","measureNames","getMeasureNames","formattedData","map","datum","dimension","name","join","pick"],"sources":["../../../src/utils/concatDimensions.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type {\n  SDKRecord,\n  Fields,\n  ChartData,\n} from '@looker/visualizations-adapters'\nimport {\n  getDimensionNames,\n  getMeasureNames,\n} from '@looker/visualizations-adapters'\nimport pick from 'lodash/pick'\n\n/**\n * Concatenates dimension values and replaces all existing dimension properties in data with\n * a new formatted data array that has a single `dimension` property\n */\nexport const concatDimensions = (data: SDKRecord[], fields: Fields) => {\n  const dimensionNames = getDimensionNames(fields)\n  const measureNames = getMeasureNames(fields)\n\n  const formattedData = data.map(datum => {\n    const dimension = dimensionNames.map(name => datum[name]).join(' - ')\n\n    return {\n      dimension,\n      ...pick(datum, measureNames),\n    }\n  })\n\n  return formattedData as ChartData\n}\n"],"mappings":";;;;;;;;AAUA;AAIA;AAA8B;AAAA;AAMvB,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,IAAiB,EAAEC,MAAc,EAAK;EACrE,IAAMC,cAAc,GAAG,IAAAC,yCAAiB,EAACF,MAAM,CAAC;EAChD,IAAMG,YAAY,GAAG,IAAAC,uCAAe,EAACJ,MAAM,CAAC;EAE5C,IAAMK,aAAa,GAAGN,IAAI,CAACO,GAAG,CAAC,UAAAC,KAAK,EAAI;IACtC,IAAMC,SAAS,GAAGP,cAAc,CAACK,GAAG,CAAC,UAAAG,IAAI;MAAA,OAAIF,KAAK,CAACE,IAAI,CAAC;IAAA,EAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IAErE;MACEF,SAAS,EAATA;IAAS,GACN,IAAAG,gBAAI,EAACJ,KAAK,EAAEJ,YAAY,CAAC;EAEhC,CAAC,CAAC;EAEF,OAAOE,aAAa;AACtB,CAAC;AAAA"}