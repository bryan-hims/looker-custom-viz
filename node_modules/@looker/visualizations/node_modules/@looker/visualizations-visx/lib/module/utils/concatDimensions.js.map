{"version":3,"file":"concatDimensions.js","names":["getDimensionNames","getMeasureNames","pick","concatDimensions","data","fields","dimensionNames","measureNames","formattedData","map","datum","dimension","name","join"],"sources":["../../../src/utils/concatDimensions.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type {\n  SDKRecord,\n  Fields,\n  ChartData,\n} from '@looker/visualizations-adapters'\nimport {\n  getDimensionNames,\n  getMeasureNames,\n} from '@looker/visualizations-adapters'\nimport pick from 'lodash/pick'\n\n/**\n * Concatenates dimension values and replaces all existing dimension properties in data with\n * a new formatted data array that has a single `dimension` property\n */\nexport const concatDimensions = (data: SDKRecord[], fields: Fields) => {\n  const dimensionNames = getDimensionNames(fields)\n  const measureNames = getMeasureNames(fields)\n\n  const formattedData = data.map(datum => {\n    const dimension = dimensionNames.map(name => datum[name]).join(' - ')\n\n    return {\n      dimension,\n      ...pick(datum, measureNames),\n    }\n  })\n\n  return formattedData as ChartData\n}\n"],"mappings":";;;;AAUA,SACEA,iBAAiB,EACjBC,eAAe,QACV,iCAAiC;AACxC,OAAOC,IAAI,MAAM,aAAa;;AAM9B,OAAO,MAAMC,gBAAgB,GAAG,CAACC,IAAiB,EAAEC,MAAc,KAAK;EACrE,MAAMC,cAAc,GAAGN,iBAAiB,CAACK,MAAM,CAAC;EAChD,MAAME,YAAY,GAAGN,eAAe,CAACI,MAAM,CAAC;EAE5C,MAAMG,aAAa,GAAGJ,IAAI,CAACK,GAAG,CAACC,KAAK,IAAI;IACtC,MAAMC,SAAS,GAAGL,cAAc,CAACG,GAAG,CAACG,IAAI,IAAIF,KAAK,CAACE,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IAErE;MACEF;IAAS,GACNT,IAAI,CAACQ,KAAK,EAAEH,YAAY,CAAC;EAEhC,CAAC,CAAC;EAEF,OAAOC,aAAa;AACtB,CAAC"}