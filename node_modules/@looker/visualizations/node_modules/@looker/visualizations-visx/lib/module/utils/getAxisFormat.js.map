{"version":3,"file":"getAxisFormat.js","names":["DEFAULT_STRING_FORMAT","DEFAULT_STRING_FORMAT_PERCENT","getYAxisFormat","config","series","positioning","isPercent","isSingleSeries","length","Object","keys","valueFormat","Array","isArray","value_format","values","getXAxisFormat","fields","dimensions"],"sources":["../../../src/utils/getAxisFormat.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { Fields, CCartesian } from '@looker/visualizations-adapters'\nimport {\n  DEFAULT_STRING_FORMAT,\n  DEFAULT_STRING_FORMAT_PERCENT,\n} from '@looker/visualizations-adapters'\n\n/**\n * Sets format of y-axis based on value_format property within config.series object\n *\n * @param config a configuration object\n * @returns a string for numeral to use to format\n */\n\nexport const getYAxisFormat = (config: CCartesian) => {\n  const { series = {}, positioning = '' } = config\n  const isPercent = positioning === 'percent'\n  const isSingleSeries = !!(\n    series.length === 1 || Object.keys(series).length === 1\n  )\n  if (isSingleSeries) {\n    const valueFormat = Array.isArray(series)\n      ? series[0].value_format\n      : Object.values(series)[0].value_format\n    return valueFormat\n  } else {\n    return isPercent ? DEFAULT_STRING_FORMAT_PERCENT : DEFAULT_STRING_FORMAT\n  }\n}\n\n/**\n * Sets format of x-axis based on value_format property within fields.dimensions object\n *\n * @param fields a fields object\n * @returns a string for numeral to use to format\n */\nexport const getXAxisFormat = (fields: Fields) => {\n  if (typeof fields === 'undefined') return ''\n\n  const { dimensions = '' } = fields\n  if (dimensions && dimensions.length === 1) {\n    const { value_format } = dimensions[0]\n    return value_format\n  } else {\n    return DEFAULT_STRING_FORMAT\n  }\n}\n"],"mappings":";;AAKA,SACEA,qBAAqB,EACrBC,6BAA6B,QACxB,iCAAiC;;AASxC,OAAO,MAAMC,cAAc,GAAIC,MAAkB,IAAK;EACpD,MAAM;IAAEC,MAAM,GAAG,CAAC,CAAC;IAAEC,WAAW,GAAG;EAAG,CAAC,GAAGF,MAAM;EAChD,MAAMG,SAAS,GAAGD,WAAW,KAAK,SAAS;EAC3C,MAAME,cAAc,GAAG,CAAC,EACtBH,MAAM,CAACI,MAAM,KAAK,CAAC,IAAIC,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC,CAACI,MAAM,KAAK,CAAC,CACxD;EACD,IAAID,cAAc,EAAE;IAClB,MAAMI,WAAW,GAAGC,KAAK,CAACC,OAAO,CAACT,MAAM,CAAC,GACrCA,MAAM,CAAC,CAAC,CAAC,CAACU,YAAY,GACtBL,MAAM,CAACM,MAAM,CAACX,MAAM,CAAC,CAAC,CAAC,CAAC,CAACU,YAAY;IACzC,OAAOH,WAAW;EACpB,CAAC,MAAM;IACL,OAAOL,SAAS,GAAGL,6BAA6B,GAAGD,qBAAqB;EAC1E;AACF,CAAC;;AAQD,OAAO,MAAMgB,cAAc,GAAIC,MAAc,IAAK;EAChD,IAAI,OAAOA,MAAM,KAAK,WAAW,EAAE,OAAO,EAAE;EAE5C,MAAM;IAAEC,UAAU,GAAG;EAAG,CAAC,GAAGD,MAAM;EAClC,IAAIC,UAAU,IAAIA,UAAU,CAACV,MAAM,KAAK,CAAC,EAAE;IACzC,MAAM;MAAEM;IAAa,CAAC,GAAGI,UAAU,CAAC,CAAC,CAAC;IACtC,OAAOJ,YAAY;EACrB,CAAC,MAAM;IACL,OAAOd,qBAAqB;EAC9B;AACF,CAAC"}