{"version":3,"file":"Tick.js","names":["isNumeric","Text","numeral","React","formatDateLabel","MAX_TICK_LABEL_LENGTH","Tick","formattedValue","fields","valueFormat","tickProps","isNumericTick","label","dateString","renderedLabel","length","slice","trim","format"],"sources":["../../../src/Axis/Tick.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { isNumeric } from '@looker/visualizations-adapters'\nimport type { TickRendererProps } from '@visx/axis'\nimport { Text } from '@visx/text'\nimport numeral from 'numeral'\nimport React from 'react'\nimport { formatDateLabel } from '../utils'\nimport type { XAxisProps } from './types'\n\n/**\n * All tick labels longer than this will be truncated\n */\nexport const MAX_TICK_LABEL_LENGTH = 20\n\nexport type TickProps = Pick<XAxisProps, 'fields' | 'valueFormat'> &\n  TickRendererProps\n\n/**\n * Tick component typically used in the tickComponent prop of\n * visx <Axis> components\n */\nexport const Tick = ({\n  formattedValue,\n  fields,\n  valueFormat,\n  ...tickProps\n}: TickProps) => {\n  /**\n   * numeral() can unintentionally convert a tick label into\n   * a number even when that label should have remained a string\n   * (i.e. in the case of concatenated dimension values). Need\n   * an additional NaN check to verify if the tick label is actually\n   * numeric.\n   */\n  const isNumericTick = isNumeric(formattedValue)\n\n  const label = formatDateLabel({\n    dateString: formattedValue || '',\n    fields,\n  })\n  const renderedLabel =\n    label.length > MAX_TICK_LABEL_LENGTH\n      ? `${label.slice(0, MAX_TICK_LABEL_LENGTH).trim()}\\u2026`\n      : label\n\n  return (\n    <Text {...tickProps}>\n      {valueFormat && isNumericTick\n        ? numeral(formattedValue).format(valueFormat)\n        : renderedLabel}\n    </Text>\n  )\n}\n"],"mappings":";;;AAKA,SAASA,SAAS,QAAQ,iCAAiC;AAE3D,SAASC,IAAI,QAAQ,YAAY;AACjC,OAAOC,OAAO,MAAM,SAAS;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,eAAe,QAAQ,UAAU;AAM1C,OAAO,MAAMC,qBAAqB,GAAG,EAAE;AASvC,OAAO,MAAMC,IAAI,GAAG,QAKH;EAAA,IALI;MACnBC,cAAc;MACdC,MAAM;MACNC;IAES,CAAC;IADPC,SAAS;EASZ,MAAMC,aAAa,GAAGX,SAAS,CAACO,cAAc,CAAC;EAE/C,MAAMK,KAAK,GAAGR,eAAe,CAAC;IAC5BS,UAAU,EAAEN,cAAc,IAAI,EAAE;IAChCC;EACF,CAAC,CAAC;EACF,MAAMM,aAAa,GACjBF,KAAK,CAACG,MAAM,GAAGV,qBAAqB,GAC/B,GAAEO,KAAK,CAACI,KAAK,CAAC,CAAC,EAAEX,qBAAqB,CAAC,CAACY,IAAI,EAAG,QAAO,GACvDL,KAAK;EAEX,OACE,oBAAC,IAAI,EAAKF,SAAS,EAChBD,WAAW,IAAIE,aAAa,GACzBT,OAAO,CAACK,cAAc,CAAC,CAACW,MAAM,CAACT,WAAW,CAAC,GAC3CK,aAAa,CACZ;AAEX,CAAC"}