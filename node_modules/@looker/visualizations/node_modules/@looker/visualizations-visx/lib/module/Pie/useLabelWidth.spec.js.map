{"version":3,"file":"useLabelWidth.spec.js","names":["React","renderHook","cleanup","ComponentsProvider","useLabelWidth","MIN_LABEL_SPACE","wrapper","children","describe","test","data","albany","albuquerque","legend","type","value","result","unmount","expect","current","toEqual"],"sources":["../../../src/Pie/useLabelWidth.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React from 'react'\nimport type { CPie } from '@looker/visualizations-adapters'\nimport { renderHook, cleanup } from '@testing-library/react-hooks'\nimport { ComponentsProvider } from '@looker/components-providers'\nimport { useLabelWidth, MIN_LABEL_SPACE } from './useLabelWidth'\n\nconst wrapper = ({ children }: React.PropsWithChildren<unknown>) => (\n  <ComponentsProvider>{children}</ComponentsProvider>\n)\n\ndescribe('useLabelWidth', () => {\n  test('calculates the width of the longest label in a set', async () => {\n    const data = { albany: 20, albuquerque: 20 }\n    const legend: CPie['legend'] = { type: 'legend', value: 'label_percent' }\n\n    const { result, unmount } = renderHook(\n      () => useLabelWidth(40, data, legend),\n      {\n        wrapper,\n      }\n    )\n\n    // the min label size will be returned as no real dom measurements will\n    // take place in the jest virtual dom\n    expect(result.current).toEqual(MIN_LABEL_SPACE)\n\n    // silence act(...) warning\n    unmount()\n    await cleanup()\n  })\n})\n"],"mappings":";;AAKA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAU,EAAEC,OAAO,QAAQ,8BAA8B;AAClE,SAASC,kBAAkB,QAAQ,8BAA8B;AACjE,SAASC,aAAa,EAAEC,eAAe,QAAQ,iBAAiB;AAEhE,MAAMC,OAAO,GAAG,CAAC;EAAEC;AAA2C,CAAC,KAC7D,oBAAC,kBAAkB,QAAEA,QAAQ,CAC9B;AAEDC,QAAQ,CAAC,eAAe,EAAE,MAAM;EAC9BC,IAAI,CAAC,oDAAoD,EAAE,YAAY;IACrE,MAAMC,IAAI,GAAG;MAAEC,MAAM,EAAE,EAAE;MAAEC,WAAW,EAAE;IAAG,CAAC;IAC5C,MAAMC,MAAsB,GAAG;MAAEC,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAgB,CAAC;IAEzE,MAAM;MAAEC,MAAM;MAAEC;IAAQ,CAAC,GAAGhB,UAAU,CACpC,MAAMG,aAAa,CAAC,EAAE,EAAEM,IAAI,EAAEG,MAAM,CAAC,EACrC;MACEP;IACF,CAAC,CACF;;IAIDY,MAAM,CAACF,MAAM,CAACG,OAAO,CAAC,CAACC,OAAO,CAACf,eAAe,CAAC;;IAG/CY,OAAO,EAAE;IACT,MAAMf,OAAO,EAAE;EACjB,CAAC,CAAC;AACJ,CAAC,CAAC"}